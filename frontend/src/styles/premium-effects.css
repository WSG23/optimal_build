/* =============================================================================
   PREMIUM EFFECTS CSS - Cyber/Mission Control Aesthetic
   =============================================================================
   Inspired by Google AI Studio "optimal-build-pro" reference.
   Provides glassmorphism, neon glows, pulsing indicators, and premium animations.

   Usage: Import this file in main.tsx or App.tsx
   ============================================================================= */

/* ===========================================================================
   1. GLASSMORPHISM
   =========================================================================== */

.ob-glass {
    background: var(--ob-surface-premium);
    backdrop-filter: blur(var(--ob-blur-xl));
    -webkit-backdrop-filter: blur(var(--ob-blur-xl));
    border: var(--ob-border-fine);
}

.ob-glass-subtle {
    background: var(--ob-surface-glass-1);
    backdrop-filter: blur(var(--ob-blur-md));
    -webkit-backdrop-filter: blur(var(--ob-blur-md));
    border: var(--ob-border-fine);
}

/* ===========================================================================
   2. NEON TEXT & GLOW EFFECTS
   =========================================================================== */

.ob-neon-text {
    color: var(--ob-color-neon-cyan);
    text-shadow: var(--ob-glow-neon-text);
}

.ob-neon-text-strong {
    color: var(--ob-color-neon-cyan);
    text-shadow: var(--ob-glow-neon-cyan);
}

.ob-neon-border {
    border: var(--ob-border-neon-cyan);
    box-shadow: var(--ob-glow-neon-cyan);
}

.ob-neon-bg {
    background-color: var(--ob-color-neon-cyan);
    box-shadow: var(--ob-glow-neon-cyan);
}

/* ===========================================================================
   3. BACKGROUND GRID PATTERN
   =========================================================================== */

.ob-grid-bg {
    position: relative;
}

.ob-grid-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.5;
    background-image:
        linear-gradient(var(--ob-bg-grid-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--ob-bg-grid-color) 1px, transparent 1px);
    background-size: var(--ob-bg-grid-size) var(--ob-bg-grid-size);
    z-index: 0;
}

/* ===========================================================================
   4. PREMIUM CARD TOP ACCENT BORDER
   =========================================================================== */

.ob-card-accent {
    position: relative;
}

.ob-card-accent::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--ob-gradient-accent-fade);
    border-radius: var(--ob-radius-sm) var(--ob-radius-sm) 0 0;
}

/* ===========================================================================
   5. PULSING STATUS INDICATORS
   =========================================================================== */

@keyframes ob-pulse {
    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.1);
    }
}

@keyframes ob-pulse-glow {
    0% {
        box-shadow: 0 0 0 0 var(--ob-color-neon-cyan);
    }
    70% {
        box-shadow: 0 0 0 8px rgba(0, 243, 255, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(0, 243, 255, 0);
    }
}

.ob-status-pulse {
    animation: ob-pulse var(--ob-motion-pulse-duration) ease-in-out infinite;
}

.ob-status-pulse-glow {
    animation: ob-pulse-glow var(--ob-motion-pulse-duration) infinite;
}

/* Status dot variants */
.ob-status-dot {
    width: 8px;
    height: 8px;
    border-radius: var(--ob-radius-xs);
    background-color: var(--ob-color-neon-cyan);
}

.ob-status-dot--live {
    background-color: var(--ob-color-neon-cyan);
    animation: ob-pulse-glow var(--ob-motion-pulse-duration) infinite;
}

.ob-status-dot--success {
    background-color: var(--ob-success-500);
}

.ob-status-dot--warning {
    background-color: var(--ob-warning-500);
}

.ob-status-dot--error {
    background-color: var(--ob-error-500);
}

.ob-status-dot--inactive {
    background-color: var(--ob-neutral-600);
}

/* ===========================================================================
   6. SCANLINE ANIMATION (Dark mode only, subtle)
   =========================================================================== */

@keyframes ob-scanline {
    0% {
        top: -100px;
    }
    100% {
        top: 100vh;
    }
}

.ob-scanline {
    width: 100%;
    height: 100px;
    z-index: 1000;
    background: linear-gradient(
        0deg,
        rgba(0, 243, 255, 0) 0%,
        var(--ob-color-table-row-alt) 50%,
        rgba(0, 243, 255, 0) 100%
    );
    position: fixed;
    top: -100px;
    left: 0;
    pointer-events: none;
    /* Promote to own compositing layer for smoother animation */
    will-change: transform;
    transform: translateZ(0);
    /* Delay animation start to allow page content to render first */
    animation: ob-scanline var(--ob-motion-scanline-duration) linear infinite;
    animation-delay: 0.5s;
}

/* ===========================================================================
   7. HOVER EFFECTS
   =========================================================================== */

.ob-hover-lift {
    transition:
        transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.2s ease;
}

.ob-hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--ob-shadow-lg);
}

.ob-hover-glow {
    transition:
        box-shadow 0.2s ease,
        border-color 0.2s ease;
}

.ob-hover-glow:hover {
    box-shadow: var(--ob-glow-neon-cyan);
    border-color: var(--ob-color-neon-cyan);
}

/* ===========================================================================
   8. FADE IN ANIMATION
   =========================================================================== */

@keyframes ob-fade-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.ob-fade-in {
    animation: ob-fade-in 0.5s ease forwards;
}

/* ===========================================================================
   9. HOLOGRAPHIC SHINE EFFECT (for premium cards)
   =========================================================================== */

@keyframes ob-holographic-shine {
    0% {
        background-position: -200% center;
    }
    100% {
        background-position: 200% center;
    }
}

.ob-holographic {
    position: relative;
    overflow: hidden;
}

.ob-holographic::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        120deg,
        transparent 30%,
        var(--ob-color-action-selected) 50%,
        transparent 70%
    );
    background-size: 200% 100%;
    animation: ob-holographic-shine var(--ob-motion-shine-duration) ease-in-out
        infinite;
    pointer-events: none;
}

/* ===========================================================================
   10. PROGRESS BAR STRIPES
   =========================================================================== */

@keyframes ob-progress-stripes {
    0% {
        background-position: 100% 0;
    }
    100% {
        background-position: 0 0;
    }
}

.ob-progress-striped {
    background-image: linear-gradient(
        45deg,
        var(--ob-color-action-active) 25%,
        transparent 25%,
        transparent 50%,
        var(--ob-color-action-active) 50%,
        var(--ob-color-action-active) 75%,
        transparent 75%,
        transparent
    );
    background-size: 1rem 1rem;
    animation: ob-progress-stripes 1s linear infinite;
}

/* ===========================================================================
   11. LAYOUT ARCHITECTURE - Macro/Micro Hierarchy (AI Studio Protocol)
   ===========================================================================
   Depth 0 (Direct): Headers, titles, global actions - NO glass, NO cyan edge
   Depth 1 (Cards): Data modules, forms, tables - glass + cyan top edge
   =========================================================================== */

/* Glass Card Module - for data tables, forms, charts (Depth 1) */
.ob-card-module {
    background: var(--ob-surface-glass-1);
    backdrop-filter: blur(var(--ob-blur-xl)); /* 16px - matches V3 reference */
    -webkit-backdrop-filter: blur(var(--ob-blur-xl));
    border: var(--ob-border-fine);
    border-radius: var(--ob-radius-sm);
    padding: var(--ob-space-200); /* 16px internal - tightened from 24px */
    position: relative;
}

/* Light mode: "frosted ice" effect with preserved premium identity */
html[data-theme='light'] .ob-card-module {
    background: var(
        --ob-color-text-secondary
    ); /* More opaque glass for light mode */
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--ob-color-action-hover-light);
    box-shadow: 0 4px 16px var(--ob-color-action-hover-light);
}

/* Light mode: preserve cyan accent edge glow */
html[data-theme='light'] .ob-card-module::before {
    background: linear-gradient(
        90deg,
        var(--ob-color-neon-cyan),
        transparent 80%
    );
    /* Cyan stays visible in light mode for brand identity */
}

/* Cyan top edge accent - signals "this is an interactive panel" */
.ob-card-module::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(
        90deg,
        var(--ob-color-neon-cyan),
        transparent 80%
    );
    border-radius: var(--ob-radius-sm) var(--ob-radius-sm) 0 0;
}

/* Page section spacing (between modules) - TIGHTENED for information density */
.ob-section-gap {
    margin-bottom: var(--ob-space-200); /* 16px - was 24px */
}

/* Large breathing room for hero sections */
.ob-hero-gap {
    margin-bottom: var(--ob-space-400); /* 32px - was 48px */
}

/* 12-column grid for card alignment */
.ob-grid-12 {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: var(--ob-space-300);
}

/* Common grid spans */
.ob-col-span-3 {
    grid-column: span 3;
}
.ob-col-span-4 {
    grid-column: span 4;
}
.ob-col-span-6 {
    grid-column: span 6;
}
.ob-col-span-8 {
    grid-column: span 8;
}
.ob-col-span-12 {
    grid-column: span 12;
}

/* Direct content header - no glass, just typography
   TIGHT LAYOUT: Reduced margins for command-center information density */
.ob-page-header {
    margin-bottom: var(--ob-space-200); /* 16px - tighter spacing */
}

/* When header has ob-section-gap, DON'T stack margins */
.ob-page-header.ob-section-gap {
    margin-bottom: var(--ob-space-200); /* Override stacked margin */
}

.ob-page-header__title {
    font-size: var(--ob-font-size-xl); /* Slightly smaller for density */
    font-weight: 700;
    color: var(--ob-color-text-primary);
    margin: 0 0 var(--ob-space-025) 0; /* Tighter title-subtitle gap */
}

.ob-page-header__subtitle {
    font-size: var(--ob-font-size-sm);
    color: var(--ob-color-text-secondary);
    margin: 0;
}

/* ===========================================================================
   12. TABLE STYLING - V2/V3 Reference Match
   =========================================================================== */

/* Table styling for MUI tables inside glass cards */
.ob-card-module .MuiTable-root {
    border-collapse: collapse;
}

.ob-card-module .MuiTableHead-root {
    background: var(--ob-color-surface-overlay-light);
}

.ob-card-module .MuiTableHead-root .MuiTableCell-root {
    font-size: var(--ob-font-size-2xs);
    font-weight: var(--ob-font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: var(--ob-letter-spacing-wider);
    color: var(--ob-color-text-secondary);
    border-bottom: 1px solid var(--ob-color-surface-overlay);
    padding: var(--ob-space-150) var(--ob-space-200);
}

.ob-card-module .MuiTableBody-root .MuiTableRow-root {
    border-bottom: 1px solid var(--ob-color-surface-overlay-light);
    transition: background-color 0.15s ease;
}

/* Light mode table styling */
html[data-theme='light'] .ob-card-module .MuiTableHead-root {
    background: var(--ob-color-table-header);
}

html[data-theme='light'] .ob-card-module .MuiTableHead-root .MuiTableCell-root {
    border-bottom: 1px solid var(--ob-color-action-hover-light);
}

html[data-theme='light'] .ob-card-module .MuiTableBody-root .MuiTableRow-root {
    border-bottom: 1px solid var(--ob-color-border-subtle);
}

html[data-theme='light']
    .ob-card-module
    .MuiTableBody-root
    .MuiTableRow-root:hover {
    background-color: var(
        --ob-color-action-selected
    ); /* Subtle cyan tint on hover */
}

.ob-card-module .MuiTableBody-root .MuiTableRow-root:hover {
    background-color: var(--ob-color-table-header);
}

.ob-card-module .MuiTableBody-root .MuiTableCell-root {
    font-size: var(--ob-font-size-xs);
    color: var(--ob-color-text-primary);
    padding: var(--ob-space-150) var(--ob-space-200);
    border-bottom: none;
}

/* ===========================================================================
   13. ACCESSIBILITY - Respect reduced motion
   =========================================================================== */

@media (prefers-reduced-motion: reduce) {
    .ob-status-pulse,
    .ob-status-pulse-glow,
    .ob-status-dot--live,
    .ob-scanline,
    .ob-holographic::after,
    .ob-progress-striped {
        animation: none;
    }

    .ob-hover-lift:hover {
        transform: none;
    }

    .ob-fade-in {
        animation: none;
        opacity: 1;
        transform: none;
    }
}

/* ===========================================================================
   14. SEAMLESS COMMAND SURFACE - Zero-Card Architecture
   ===========================================================================
   Eliminates opaque card containers in favor of:
   - Semi-transparent backgrounds with backdrop blur
   - 1px hairline borders for section delineation
   - Edge-to-edge tiling with global grid visible through panels
   - Technical precision labeling (9px, all-caps, tracking)
   =========================================================================== */

/* Base seamless panel - hairline border, no background by default */
.ob-seamless-panel {
    position: relative;
    border: 1px solid var(--ob-color-border-subtle);
}

/* Add glass background when needed (makes content more readable)
   NOTE: No backdrop-filter here to avoid scroll jank from nested blur layers.
   Blur is applied only at the page/section level, not on individual panels. */
.ob-seamless-panel--glass {
    background: var(--ob-surface-glass-1);
    /* No backdrop-filter - performance optimization */
}

/* Light mode glass panel */
html[data-theme='light'] .ob-seamless-panel--glass {
    background: var(--ob-color-border-default);
    border-color: var(--ob-color-action-hover-light);
}

/* Hover state with neon cyan accent */
.ob-seamless-panel--interactive:hover {
    border-color: var(--ob-color-neon-cyan);
}

/* Edge-to-edge tile (no border-radius, butts against adjacent panels) */
.ob-tile {
    border-radius: 0;
}

/* Tile with minimal radius (1px) for very subtle softening */
.ob-tile--soft {
    border-radius: 1px;
}

/* Seamless grid container - edge-to-edge tiles with 1px gaps (hairline grid) */
.ob-seamless-grid {
    display: grid;
    gap: 1px;
    background: var(--ob-color-border-subtle); /* Gap color */
}

/* Seamless grid children need their own backgrounds */
.ob-seamless-grid > * {
    background: var(--ob-surface-glass-1);
}

html[data-theme='light'] .ob-seamless-grid > * {
    background: var(--ob-color-border-default);
}

/* Technical precision label - 9px, all-caps, wide tracking */
.ob-precision-label {
    font-size: 9px;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--ob-color-text-tertiary);
}

/* Section divider - hairline horizontal rule */
.ob-hairline {
    height: 1px;
    background: var(--ob-color-border-subtle);
    border: none;
    margin: 0;
}

/* Seamless section - full-width with internal padding */
.ob-seamless-section {
    padding: var(--ob-space-200);
    border-bottom: 1px solid var(--ob-color-border-subtle);
}

.ob-seamless-section:last-child {
    border-bottom: none;
}
