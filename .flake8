[flake8]
# DEPRECATED: This configuration is kept for backward compatibility
# Primary linting is now done with ruff (see ruff.toml)
extend-ignore = E203,W503
max-line-length = 100  # Aligned with ruff

# Keep flake8 focused on FIRST-PARTY code. Exclude venvs, caches, build outputs,
# and vendored third-party trees that sometimes live in-repo.
exclude =
    .git,
    __pycache__,
    .mypy_cache,
    .pytest_cache,
    dist,
    build,
    *.egg-info,
    # any virtualenvs
    .venv,
    venv,
    */.venv/*,
    */venv/*,
    **/site-packages/**,
    # JavaScript deps that embed python samples
    node_modules,
    frontend/node_modules/**,
    # occasionally vendored libs (present in your tree)
    fastapi,
    starlette,
    pydantic,
    sqlalchemy_pkg_backup,
    mako,
    importlib,
    yaml,
    # (OPTIONAL) exclude backend application code; we lint tests only here
    backend/app,
    backend/flows,
    backend/jobs,
    backend/migrations,
    backend/scripts,
    backend/test_db_connection.py

# Tests often place imports after path/setup; suppress E402 only there.
# Also quiet E302/W391 in tests to avoid churn on spacing/EOF-newline trivia.
per-file-ignores =
    backend/tests/*:E402,E302,W391
    tests/*:E402,E302,W391
