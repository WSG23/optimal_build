repos:
- repo: local
  hooks:
    - id: audit-migrations
      name: audit-migrations
      entry: python3 scripts/audit_migrations.py
      language: system
      pass_filenames: false

- repo: https://github.com/psf/black
  rev: 24.8.0
  hooks:
    - id: black
      files: ^(backend/tests|tests)/

- repo: https://github.com/PyCQA/flake8
  rev: 7.1.1
  hooks:
    - id: flake8
      additional_dependencies: [flake8-bugbear==24.8.19]
      files: ^(backend/tests|tests)/

- repo: https://github.com/pre-commit/mirrors-prettier
  rev: v3.4.2
  hooks:
    - id: prettier
      files: ^(frontend|ui-admin)/.*\.(?:[cm]?jsx?|tsx?|json|ya?ml|css|scss|less|mdx?|html?)$
      exclude: ^(frontend|ui-admin)/(?:node_modules|dist)/|(?:pnpm-lock|package-lock)\.ya?ml$

- repo: https://github.com/pre-commit/mirrors-eslint
  rev: v9.11.1
  hooks:
    - id: eslint
      files: ^frontend/(?!node_modules/).+\.(?:[cm]?jsx?|tsx?)$
      args:
        - --config
        - frontend/eslint.config.cjs
      additional_dependencies:
        - '@eslint/js@9.11.1'
        - '@typescript-eslint/eslint-plugin@8.44.1'
        - '@typescript-eslint/parser@8.44.1'
        - eslint-plugin-react-hooks@4.6.0
        - eslint-plugin-react-refresh@0.4.4
        - globals@13.24.0
        - typescript@5.2.2
